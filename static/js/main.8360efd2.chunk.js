(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){},16:function(e,t,a){},18:function(e,t,a){},20:function(e,t,a){},22:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(7),c=a.n(s),o=(a(14),a(1)),i=a(2),l=a(4),u=a(3),p=a(5);var m=function(){return r.a.createElement("div",{style:{backgroundColor:"#232b2b",height:"6em",color:"white",textAlign:"center",padding:"10px"}},r.a.createElement("h1",{style:{padding:"5px"}},"Restaurants from OpenTable API"))},h=(a(16),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={text:""},a.onChange=function(e){return a.setState({text:e.target.value})},a.onSubmit=function(e){e.preventDefault(),a.props.submitHandler(a.state.text)},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"formDiv"},r.a.createElement("p",null,"Search for Restaurants in your City"),r.a.createElement("form",{onSubmit:this.onSubmit,className:"form"},r.a.createElement("input",{type:"text",value:this.state.text,placeholder:"Restaurant",onChange:this.onChange,className:"inputText"}),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",value:"Search",className:"submitButton"})))}}]),t}(n.Component)),d=(a(18),a(20),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"popup",onClick:this.props.closePopup},r.a.createElement("div",{className:"popup_inner"},this.props.items.restaurants.map(function(t){return t.id===e.props.id?r.a.createElement("div",{className:"content"},r.a.createElement("p",null,r.a.createElement("b",null,"Name:")," ",t.name),r.a.createElement("p",null,r.a.createElement("b",null,"Address:")," ",t.address),r.a.createElement("p",null,r.a.createElement("b",null,"City:")," ",t.city),r.a.createElement("p",null,r.a.createElement("b",null,"Phone:")," ",t.phone),r.a.createElement("button",{onClick:e.props.closePopup},"Close")):null})))}}]),t}(n.Component)),f=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={isLoaded:!1,items:{},showPopup:!1,popupId:""},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"togglePopup",value:function(e){this.setState({showPopup:!this.state.showPopup,popupId:e}),console.log(this.state.showPopup)}},{key:"updateSearch",value:function(){""!==this.props.name&&this.search(this.props.name)}},{key:"render",value:function(){var e=this;return this.state.isLoaded?r.a.createElement("div",{className:"grid-container"},this.state.items.restaurants.map(function(t){return r.a.createElement("div",{key:t.id,className:"polaroid",onClick:function(){return e.togglePopup(t.id)}},r.a.createElement("img",{src:t.image_url,style:{width:"100%"},alt:"Restaurant Pic"}),r.a.createElement("div",{className:"container"},r.a.createElement("p",null,t.name)))}),";",this.state.showPopup?r.a.createElement(d,{items:this.state.items,id:this.state.popupId,closePopup:function(){return e.togglePopup()}}):null):r.a.createElement("p",{style:{textAlign:"center"}},"Search for Restaurants")}},{key:"search",value:function(e){var t=this;fetch("https://opentable.herokuapp.com/api/restaurants?city="+e).then(function(e){return e.json()}).then(function(e){t.setState({items:e,isLoaded:!0})})}}]),t}(n.Component),b=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).clickedHandler=function(e){a.setState({restaurants:e}),a.results.current.updateSearch(e)},a.state={restaurants:null},a.results=r.a.createRef(),a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(m,null),r.a.createElement(h,{submitHandler:this.clickedHandler}),r.a.createElement("h2",{style:{textAlign:"center"}},this.state.restaurants),r.a.createElement(f,{name:this.state.restaurants,ref:this.results}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},8:function(e,t,a){e.exports=a(22)}},[[8,2,1]]]);
//# sourceMappingURL=main.8360efd2.chunk.js.map